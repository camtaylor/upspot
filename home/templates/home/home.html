{% extends 'home/base.html' %}
{% block content %}

<style>
#bgvid {
  width: 100%;
  height: 100%;
}

.navbar {
  background: rgba(0,0,0,.1);
  border 0 !important;
  box-shadow: none !important;
  -webkit-box-shadow: none !important;
}
figcaption {
  position: absolute;
  z-index: 1000;
  /**text, adjust as req'd**/
  padding-top: 13%;
  padding-left: 30%;
  color: #FFF;
  font-weight: 300;
  text-align: right;
  font-size: 20px;
  font-size: 5.4vw;
}

#bodyContent {
  display: none;
}

.jumbotron {
  background-color: #FFFBFF;
}
#upspotMarker {
  margin-left: 200px;
  margin-right: 0px;
  width: 12%;
  opacity: .8;
}

</style>
<script>/* play video twice as fast */
$(document).on('shown.bs.modal', '.modal', function() {
  $(this).find('[autofocus]').focus();
});
</script>
<div class="embed-responsive embed-responsive-16by9">
  <figcaption>
    <p id="tagline"> <span id="verb">Find</span> a spot<img id="upspotMarker" class="img img-responsive pull-right" src="http://www2.rctcbc.gov.uk/SiteElements/ResponsiveTemplates/Images/icons/Car-Marker.png"></img></p>

  </figcaption>
  <video autoplay id="bgvid">
    <source src="https://s3-us-west-2.amazonaws.com/upspot/upspot_stock_video.webm" type="video/webm">
    </video>
  </div>
  <div class="jumbotron">

    <div class="row">
      <div class="col-md-4">
        <h3 class="page-header" style="padding-top: 10%;">Spots near you</h3>
        <p> Just search for where you are headed and we'll show you available spots nearby.
          Click a marker on the map and we'll give you a street view of the spot so you'll know if the spot meets your needs before you reserve it.
        </p>
      </div>
      <div class="col-md-1"></div>
      <div class="col-md-7">
        <img class="img img-responsive" src="https://s3-us-west-2.amazonaws.com/upspot/Screen+Shot+2016-02-23+at+11.24.52+PM.png"></img>
      </div>
    </div>
    <br/>
    <br/>
    <div class="row">
      <br/>
      <div class="col-md-1"></div>
      <div class="col-md-3">
      </br>
      <center><img class="img img-responsive" src="http://pngimg.com/upload/iphone_PNG5735.png"></img>
        <img class="img img-responsive" src="http://www.gsmsolutions.ie/LatestNews/wp-content/uploads/2015/12/app_store_logos.png"></img>
      </center>
    </div>
    <div class="col-md-2"></div>
    <div class="col-md-5">
      <h3 class="page-header" style="padding-top: 20%;">No more circling the lot</h3>
      <p> When you book an upspot, you will be navigated directly to the spot and can check in from the upspot app when you get there.
          When you are ready to leave, simply click the checkout button. You only pay for the time you have used the spot.
      </p>
    </div>
  </div>
</div>


<script>
document.getElementById("bgvid").playbackRate = 1;
document.getElementById("bgvid").play();

var hidden = false;

function myHandler() {

  if(hidden == false)
  $('#verb').fadeTo(2000, 0,  function(){
    $("#verb").text("Rent");
    $('#verb').fadeTo(3000, 1,  function(){
    });
  });
  else{
    $('#verb').fadeTo(2000, 0,  function(){
      $("#verb").text("Find");
      $("#verb").fadeTo(3000, 1,  function(){
      });
    });
  }

  if(hidden == false)
  $('#upspotMarker').fadeTo(2000, 0,  function(){
    hidden = true;
  });
  else{
    $('#upspotMarker').fadeTo(3000, 1,  function(){
      hidden = false;
    });
  }

}

var runAtTime = function(handler, time) {
  var wrapped = function() {
    if(this.currentTime >= time) {
      $(this).off('timeupdate', wrapped);
      return handler.apply(this, arguments);
    }
  }
  return wrapped;
};

$(document).ready(function(){
  $('#bodyContent').fadeIn(1000);
});
$('#bgvid').on('timeupdate', runAtTime(myHandler, 6));
$('#bgvid').on('timeupdate', runAtTime(myHandler, 28));
</script>
{% endblock %}
